stack overflow (see https://github.com/glennrp/libpng/issues/246)

Expected stack trace when running the wasm binary with heap and stack canaries:
wasmtime pnm2png.instr.wasm --dir=/ --dir=. -- input-too-large-segfault /dev/null

Caused by:
    0: failed to invoke command default
    1: wasm trap: unreachable
       wasm backtrace:
         0: 0x1e63 - <unknown>!pnm2png
         1:  0x984 - <unknown>!main
         2: 0x2814c - <unknown>!__main_argc_argv
         3: 0x282cd - <unknown>!__main_void
         4: 0x280fc - <unknown>!__original_main
         5:  0x495 - <unknown>!_start

Expected stack trace when running the native version without asan:
Segmentation fault (core dumped)

Expected stack trace with asan (compiled with -fsanitize=address:
./pnm2png input-too-large-segfault /dev/null

==56951==ERROR: AddressSanitizer: stack-buffer-overflow on address 0x7ffe4c42a0e0 at pc 0x55cfca189445 bp 0x7ffe4c429e10 sp 0x7ffe4c429e00
WRITE of size 1 at 0x7ffe4c42a0e0 thread T0
    #0 0x55cfca189444 in get_token /home/foo/development/fuzzing-workspace/wasm-project/benchmarks/libpng/contrib/pngminus/pnm2png.c:564
    #1 0x55cfca189801 in pnm2png /home/foo/development/fuzzing-workspace/wasm-project/benchmarks/libpng/contrib/pngminus/pnm2png.c:238
    #2 0x55cfca18817d in main /home/foo/development/fuzzing-workspace/wasm-project/benchmarks/libpng/contrib/pngminus/pnm2png.c:159
    #3 0x7f5f83e270b2 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x270b2)
    #4 0x55cfca188ddd in _start (/home/foo/development/fuzzing-workspace/wasm-project/benchmarks/libpng/contrib/pngminus/pnm2png+0xaddd)

Address 0x7ffe4c42a0e0 is located in stack of thread T0 at offset 528 in frame
    #0 0x55cfca18945f in pnm2png /home/foo/development/fuzzing-workspace/wasm-project/benchmarks/libpng/contrib/pngminus/pnm2png.c:205

 


